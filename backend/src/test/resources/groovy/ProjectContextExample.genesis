package groovy
template {
    name("Projects")
    version("0.1")
    createWorkflow("create")
    destroyWorkflow("destroy")

    dataSources {
        dataSource("staticList").name("ds2").config(list:[project.context("key2")])
    }

    workflow("create") {
        variables {
            variable("project").optional(defaultValue = project.context("key1"))
            variable("projectList").dataSource("ds2").optional()
        }

        steps {
            teststep {
                phase = "phase1"
                text = project.context('key')
            }
        }
    }

    workflow("destroy") {
        steps {
            teststep {
                phase = "undeply"
                text = "destroy"
            }
        }
    }
}